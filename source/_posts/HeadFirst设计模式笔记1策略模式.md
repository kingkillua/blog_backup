---
title: HeadFirst设计模式笔记1策略模式
date: 2017-08-06 00:23:50
tags:
categories: 学
---

首先设计个鸭类Duck，它可以呱呱叫quack（）;游泳swin（）;外观display()
某天要出一个会飞的鸭
那加个fyl()咯
_____________________________________
在父类上加上的新行为，使得不适合该行为的子类也具有了该行为
于是橡皮鸭也会飞了

<!--more-->
_____________________________________
那在橡皮鸭这个子类里面重写fly方法，让fly什么都不做呢？
不行
以后再出个木头鸭或者其他鸭，它不会飞也不会叫，那你都得重写fly和quack方法
_____________________________________
那把fly和quack设计成接口flyable和quackable
让有这些属性的鸭子去实现这两个接口？
还是不行
因为接口没有实现，继承接口无法达到代码复用
以后你每个鸭子都要去写fly的实现
_____________________________________
设计原则：找出应用中需要变化的功能，把它们独立出来，不要和不变化的代码混在一起
放在实践中就是，每次新需求来都会使某方面的代码发生变化，那这部分代码就需要被抽出来封装，以便日后改动扩充
_____________________________________
于是我们把fly取出来，用一组新类来描述飞行的行为（多种）
我们希望还是能有弹性，能指定行为到鸭的实例中，比如给绿头鸭赋予滑翔类型的飞，给红掌鸭赋予扑扇翅膀的飞
所以我们还是用接口来代表Flybehavior行为，但是与刚才不同的是
我们用另外的类去专门实现Flybehavior而不是Duck，比如Flywithwings
_____________________________________
总结就是特定的具体行为编写在实现了行为接口Flybehavior的具体行为类中Flywithwings
设计原则：针对接口编程，而不是针对实现编程~
